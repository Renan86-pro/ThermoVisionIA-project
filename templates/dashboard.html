<!doctype html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Dashboard ThermoVision</title>
        <!-- Carregando Tailwind CSS para estilos modernos e responsivos -->
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            /* Define a fonte Inter globalmente */
            @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;800&display=swap");
            body {
                font-family: "Inter", sans-serif;
                background-color: #f7f7f7;
                color: #1f2937;
            }

            /* Estilo customizado para os cart√µes (fundo, borda e sombra) */
            .cartao-principal {
                /* Sombra escura e pronunciada */
                box-shadow: 6px 6px 0px #18181b;
                border: 2px solid #18181b;
            }

            /* Estilo para os bot√µes de a√ß√£o e conex√£o (sombra e hover) */
            .btn-acao {
                border: 2px solid #18181b;
                border-radius: 0.5rem;
                box-shadow: 4px 4px 0px #18181b;
                transition: all 0.2s ease-in-out;
            }
            .btn-acao:hover {
                transform: translate(2px, 2px);
                box-shadow: 2px 2px 0px #18181b;
            }

            /* Estilo para a imagem de streaming para garantir que preencha a √°rea */
            #camera-stream {
                width: 100%;
                height: 100%;
                object-fit: cover; /* Garante que o v√≠deo preencha o container */
                border-radius: 10px;
            }

            /* Classes de √≠cones (Fallback) */
            .icon-svg {
                width: 24px;
                height: 24px;
            }
        </style>
    </head>
    <body class="min-h-screen">
        <div class="dashboard p-4 md:p-8">
            <!-- Header / Navigation Bar -->
            <header
                class="flex justify-between items-center border-b-2 border-zinc-900 pb-4 mb-8"
            >
                <h1 class="text-2xl font-extrabold text-zinc-900">
                    Thermo Vision
                </h1>
                <div class="flex items-center space-x-4">
                    <span
                        class="text-lg font-semibold text-zinc-700 hidden sm:block"
                        >Perfil</span
                    >
                    <!-- User Icon Placeholder -->
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                        fill="currentColor"
                        class="icon-svg text-zinc-900"
                    >
                        <path
                            fill-rule="evenodd"
                            d="M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z"
                            clip-rule="evenodd"
                        />
                    </svg>
                    <!-- Log Out Icon Placeholder -->
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                        fill="currentColor"
                        class="icon-svg text-zinc-900"
                    >
                        <path
                            fill-rule="evenodd"
                            d="M12 2.25a.75.75 0 0 1 .75.75v9a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM6.11 5.91a.75.75 0 1 0-.58 1.14l2.825 2.55-2.825 2.55a.75.75 0 0 0 .58 1.14l3.193-2.894a.75.75 0 0 0 0-1.14L6.11 5.91ZM16.2 3.25c-5.22 0-9.45 4.23-9.45 9.45s4.23 9.45 9.45 9.45 9.45-4.23 9.45-9.45-4.23-9.45-9.45-9.45Z"
                            clip-rule="evenodd"
                        />
                    </svg>
                </div>
            </header>

            <!-- Main Content Grid -->
            <main class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Coluna Esquerda: Transmiss√£o da C√¢mera (Card Maior) -->
                <div class="lg:col-span-2">
                    <div class="cartao-principal bg-white p-6 rounded-xl">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-2">
                                <!-- Camera Icon Placeholder -->
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 24 24"
                                    fill="currentColor"
                                    class="icon-svg text-zinc-900"
                                >
                                    <path
                                        fill-rule="evenodd"
                                        d="M1.371 6.837c.725-.625 1.701-.986 2.766-.986h3.693c.961 0 1.84.45 2.404 1.222l.966 1.328c.84.975 2.148 1.487 3.483 1.258a18.09 18.09 0 0 0 .88-6.19c.75.148 1.5.218 2.247.218 1.066 0 2.042-.36 2.766-.986.749-.646 1.218-1.579 1.218-2.585v-1.12c0-1.29-.75-2.482-1.977-3.032l-1.571-.703a.5.5 0 0 0-.317 0l-1.572.703C19.782.788 18.91 0 17.844 0H4.92c-1.066 0-2.042.36-2.766.986C1.371 1.63 0 2.456 0 3.327v1.12c0 1.006.469 1.939 1.218 2.586Zm19.13-3.41c0-.49-.138-.946-.395-1.324-.257-.378-.606-.677-1.018-.887l-.46-.231c-1.144-.575-2.433-.873-3.72-.873h-7.66C8.24 0 6.95 0 5.805.575l-.46.23c-.412.21-.761.509-1.018.887-.257.378-.395.834-.395 1.324v1.12c0 .49.138.946.395 1.324.257.378.606.677 1.018.887l.46.231c1.144.575 2.433.873 3.72.873h7.66c1.287 0 2.576-.298 3.72-.873l.46-.231c.412-.21.761-.509 1.018-.887.257-.378.395-.834.395-1.324v-1.12Zm-1.879 4.316c-.053-.024-.11-.044-.168-.063-.518-.168-1.05-.256-1.585-.256h-2.138c-1.42 0-2.735.61-3.79 1.768l-1.006 1.14c-.66.75-.992 1.637-.962 2.535l-.018 2.518c0 .276.224.5.5.5h14c.276 0 .5-.224.5-.5v-2.518c0-1.06-.48-2.062-1.32-2.775l-.64-1.049c-.58-1.026-1.588-1.61-2.712-1.61h-2.124Z"
                                        clip-rule="evenodd"
                                    />
                                </svg>
                                <h2 class="text-xl font-bold">
                                    Transmiss√£o da C√¢mera
                                </h2>
                            </div>
                            <p
                                class="text-xs font-light text-gray-500 hidden sm:block"
                            >
                                Conecte sua c√¢mera para come√ßar a usar o thermo
                                vision
                            </p>
                        </div>

                        <!-- Seletor de C√¢mera -->
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Selecionar C√¢mera:
                            </label>
                            <div class="flex space-x-2">
                                <select id="camera-select" class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <option value="">Carregando c√¢meras...</option>
                                </select>
                                <button id="refresh-cameras" class="btn-acao px-4 py-2 bg-blue-500 text-white hover:bg-blue-600">
                                    üîÑ
                                </button>
                            </div>
                        </div>

                        <!-- √Årea de Streaming / Placeholder -->
                        <div
                            id="video-container"
                            class="relative w-full aspect-video bg-gray-200 border-2 border-dashed border-gray-500 rounded-xl flex flex-col items-center justify-center p-4 min-h-[350px]"
                        >
                            <!-- Elemento de Imagem para o Stream (apontar√° para o Flask /video_feed) -->
                            <img
                                id="camera-stream"
                                src=""
                                alt="Live Video Feed"
                                class="hidden"
                            />

                            <!-- Mensagem de C√¢mera Desconectada (Inicial) -->
                            <div id="disconnected-message" class="text-center">
                                <!-- √çcone de C√¢mera Off Placeholder -->
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 24 24"
                                    fill="currentColor"
                                    class="w-12 h-12 mx-auto mb-3 text-gray-500"
                                >
                                    <path
                                        d="M4.5 4.5l3 3m12 0l-3-3m-9 3l3 3m-3-3l-3 3"
                                    />
                                    <path
                                        fill-rule="evenodd"
                                        d="M11.25 5.688A11.954 11.954 0 0 1 12 4.5c1.111 0 2.19.18 3.23.538l-1.385 1.385A9.704 9.704 0 0 0 12 6.75c-.968 0-1.905.11-2.798.318L8.685 5.488ZM20.25 12c0-.518-.046-1.026-.135-1.524a41.288 41.288 0 0 0-.903-2.185l-1.42 1.42a8.25 8.25 0 0 1-.169 1.549h2.518ZM1.75 12c0 .518.046 1.026.135 1.524a41.288 41.288 0 0 0 .903 2.185l1.42-1.42a8.25 8.25 0 0 1 .169-1.549H1.885ZM12 2.25c5.385 0 9.75 4.365 9.75 9.75s-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12 6.615 2.25 12 2.25Z"
                                        clip-rule="evenodd"
                                    />
                                </svg>
                                <p
                                    class="text-lg font-light text-gray-500 mt-2"
                                >
                                    Nenhuma C√¢mera conectada
                                </p>
                                <p class="text-base font-light text-gray-500">
                                    Selecione uma c√¢mera e clique em conectar
                                </p>
                            </div>
                        </div>

                        <!-- Bot√£o de A√ß√£o -->
                        <button
                            id="connect-button"
                            class="btn-acao w-full py-3 mt-5 text-lg font-extrabold bg-amber-500 text-zinc-900 focus:outline-none focus:ring-4 focus:ring-amber-500 focus:ring-opacity-50"
                        >
                            Conectar C√¢mera
                        </button>
                    </div>
                </div>

                <!-- Coluna Direita: Status e A√ß√µes -->
                <div class="lg:col-span-1 space-y-8">
                    <!-- Card de Status -->
                    <div class="cartao-principal bg-white p-6 rounded-xl">
                        <h3 class="text-xl font-bold mb-4">Status</h3>
                        <div
                            class="flex justify-between items-center py-3 border-t-2 border-gray-200"
                        >
                            <span class="font-semibold text-zinc-700"
                                >C√¢mera</span
                            >
                            <div
                                id="status-display"
                                class="px-4 py-1 rounded-full text-sm font-bold bg-red-200 text-red-700 border border-red-700"
                            >
                                Desconectada
                            </div>
                        </div>
                        <div
                            class="flex justify-between items-center py-3 border-t-2 border-gray-200"
                        >
                            <span class="font-semibold text-zinc-700"
                                >C√¢mera Selecionada</span
                            >
                            <span id="selected-camera" class="text-sm text-gray-600">Nenhuma</span>
                        </div>
                        <!-- (Outros itens de status viriam aqui) -->
                    </div>

                    <!-- Card de A√ß√µes -->
                    <div class="cartao-principal bg-white p-6 rounded-xl">
                        <h3 class="text-xl font-bold mb-4">A√ß√µes</h3>

                        <button
                            class="btn-acao w-full py-3 mb-4 bg-gray-200 text-zinc-900 font-bold hover:bg-gray-300"
                        >
                            Registrar imagem
                        </button>

                        <button
                            class="btn-acao w-full py-3 mb-4 bg-gray-200 text-zinc-900 font-bold hover:bg-gray-300"
                        >
                            Iniciar a captura (An√°lise cont√≠nua)
                        </button>

                        <button
                            class="btn-acao w-full py-3 bg-gray-200 text-zinc-900 font-bold hover:bg-gray-300"
                        >
                            Ver Hist√≥rico
                        </button>
                    </div>
                </div>
            </main>
        </div>

        <!-- Carregando o arquivo JavaScript externo -->
        <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
    </body>
</html>